{"version":3,"sources":["script-concat.js"],"names":["city","document","querySelector","currentDate","weatherType","HiLow","temperature","window","addEventListener","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","long","longitude","api","concat","fetch","then","weather","json","showWeatherReport","weatherApi","key","search","getWeatherReport","innerHTML","name","sys","country","dateGenerator","main","Hi","Math","round","temp_max","Low","temp_min","temp","date","Date","year","getFullYear","month","getMonth","dayInWeek","getDay","day","getDate","event","keyCode","value"],"mappings":"AAAA,aAEA,IAAIA,KAAOC,SAASC,cAAc,SAC9BC,YAAcF,SAASC,cAAc,iBACrCE,YAAcH,SAASC,cAAc,YACrCG,MAAQJ,SAASC,cAAc,WAC/BI,YAAcL,SAASC,cAAc,SAIzCK,OAAOC,iBAAiB,QAAO,WAIxBC,UAAUC,aACTD,UAAUC,YAAYC,oBAAmB,SAACC,GAC1C,IAAIC,EAAMD,EAASE,OAAOC,SACtBC,EAAOJ,EAASE,OAAOG,UAMvBC,EAAG,GAAAC,OAFE,mDAEF,QAAAA,OAA8BN,EAA9B,SAAAM,OAAyCH,EAAzC,wDACPI,MAAMF,GACFG,MAAK,SAACC,GACH,OAAOA,EAAQC,UAElBF,KAAKG,yBAQjB,IAAIC,WAAa,CACbC,IAAK,mCACLR,IAAK,oDAGLS,OAAS1B,SAASC,cAAc,WAUpC,SAAS0B,iBAAiB5B,GACtBoB,MAAK,GAAAD,OAAIM,WAAWP,IAAf,MAAAC,OAAuBnB,EAAvB,wBAAAmB,OAAkDM,WAAWC,MAC7DL,MAAK,SAAAC,GACF,OAAOA,EAAQC,UAElBF,KAAKG,mBAGd,SAASA,kBAAkBF,GACvBtB,KAAK6B,UAAL,GAAAV,OAAoBG,EAAQQ,KAA5B,MAAAX,OAAqCG,EAAQS,IAAIC,SACjDC,gBACA7B,YAAYyB,UAAYP,EAAQA,QAAQ,GAAGY,KAC3C,IAAIC,EAAKC,KAAKC,MAAMf,EAAQY,KAAKI,UAC7BC,EAAMH,KAAKC,MAAMf,EAAQY,KAAKM,UAClCnC,MAAMwB,UAAY,GAAAV,OAAGoB,GAAH,gBAAA,GAAApB,OAA+CgB,GAAO,KACxE7B,YAAYuB,UAAYO,KAAKC,MAAL,GAAAlB,OAAcG,EAAQY,KAAKO,OAAU,KAGjE,SAASR,gBACL,IAAIS,EAAO,IAAIC,KACXC,EAAOF,EAAKG,cAEZC,EADS,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,OAAQ,SAAU,YAAa,UAAW,WAAY,YACzGJ,EAAKK,YAEpBC,EADO,CAAC,SAAU,UAAW,YAAa,WAAY,SAAU,WAAY,UAC3DN,EAAKO,SAAW,GACjCC,EAAMR,EAAKS,UACfhD,YAAY0B,UAAY,GAAAV,OAAG6B,GAAc,QAAjB,GAAA7B,OAA8B+B,GAAQ,QAAtC,GAAA/B,OAAmD2B,GAAU,QAA7D,GAAA3B,OAA0EyB,GAjCtGjB,OAAOnB,iBAAiB,YAAY,SAAC4C,GACb,IAAjBA,EAAMC,UACLzB,iBAAiBD,OAAO2B,OACxB3B,OAAO2B,MAAQ","file":"script.js","sourcesContent":["// Grabing main html elements to fill out\r\n\r\nlet city = document.querySelector('.city');\r\nlet currentDate = document.querySelector('.current-date');\r\nlet weatherType = document.querySelector('.weather');\r\nlet HiLow = document.querySelector('.hi-low');\r\nlet temperature = document.querySelector('.temp');\r\n\r\n\r\n// // Geolocation on window load\r\nwindow.addEventListener(\"load\",() =>{\r\n    let long;\r\n    let lag;\r\n    \r\n    if(navigator.geolocation){\r\n        navigator.geolocation.getCurrentPosition((position) =>{\r\n        let lat = position.coords.latitude;\r\n        let long = position.coords.longitude;\r\n\r\n        let weatherApiGeo = {\r\n            key: \"3abacbe8bac08d340eb90ce0cbf201fc\",\r\n            api: \"https://api.openweathermap.org/data/2.5/weather?\"\r\n        }\r\n        let api = `${weatherApiGeo.api}lat=${lat}&lon=${long}&units=metric&appid=3abacbe8bac08d340eb90ce0cbf201fc`;\r\n        fetch(api) \r\n           .then((weather) =>{\r\n               return weather.json();\r\n           })\r\n           .then(showWeatherReport)\r\n        })\r\n    }\r\n})\r\n\r\n\r\n\r\n// // Main app\r\nlet weatherApi = {\r\n    key: \"3abacbe8bac08d340eb90ce0cbf201fc\",\r\n    api: \"https://api.openweathermap.org/data/2.5/weather?\"\r\n}\r\n\r\nlet search = document.querySelector('.search');\r\n\r\n// Search event\r\nsearch.addEventListener('keypress', (event) => {\r\n    if(event.keyCode == 13) {\r\n        getWeatherReport(search.value);\r\n        search.value = '';\r\n    }\r\n})\r\n// Connecting to API\r\nfunction getWeatherReport(city) {\r\n    fetch(`${weatherApi.api}q=${city}&units=metric&appid=${weatherApi.key}`)\r\n        .then(weather => {\r\n            return weather.json();\r\n        })\r\n        .then(showWeatherReport);\r\n}\r\n// Getting info and instering values\r\nfunction showWeatherReport(weather) {\r\n    city.innerHTML = `${weather.name}, ${weather.sys.country}`;\r\n    dateGenerator();\r\n    weatherType.innerHTML = weather.weather[0].main;\r\n    let Hi = Math.round(weather.main.temp_max);\r\n    let Low = Math.round(weather.main.temp_min);\r\n    HiLow.innerHTML = `${Low}` + '°c' + '&nbsp' + '/' + '&nbsp' + `${Hi}` + '°c';\r\n    temperature.innerHTML = Math.round(`${weather.main.temp}`) + '°c';\r\n}\r\n// Generating date\r\nfunction dateGenerator() {\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n    let month = months[date.getMonth()];\r\n    let days = ['Monday', 'Tuesday', 'Wednesday', 'Thurstay', 'Friday', 'Saturday', 'Sunday'];\r\n    let dayInWeek = days[date.getDay() - 1];\r\n    let day = date.getDate();\r\n    currentDate.innerHTML = `${dayInWeek}` + '&nbsp' + `${day}` + '&nbsp' + `${month}` + '&nbsp' + `${year}`;\r\n}"]}